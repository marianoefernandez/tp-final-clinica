"use strict";(self.webpackChunktp_final_clinica=self.webpackChunktp_final_clinica||[]).push([[327],{7737:(D,v,i)=>{i.d(v,{V:()=>I});var f=i(5861),l=i(3519),m=i.n(l),o=i(5879),g=i(4067),A=i(7411),U=i(7045),E=i(8672);let I=(()=>{class h{constructor(C,p,M,y){var t=this;this.firestore=C,this.autenticacion=p,this.router=M,this.spinner=y,this.canActivate=(0,f.Z)(function*(){return t.spinner.show(),yield t.firestore.obtenerInfoUsuario(t.autenticacion.usuarioActual?.uid),t.spinner.hide(),"Administrador"==t.firestore.datosUsuarioActual.tipoUsuario||(console.log(t.router.url),yield m().fire({icon:"error",title:"Acceso restringido",text:"El usuario logueado actualmente es de tipo "+t.firestore.datosUsuarioActual.tipoUsuario+" y no tiene permitido el acceso a est\xe1 seccion ya que solo est\xe1 permitida para usuarios administradores."}),t.router.navigateByUrl("bienvenido"),!1)})}static#t=this.\u0275fac=function(p){return new(p||h)(o.LFG(g.C),o.LFG(A.T),o.LFG(U.F0),o.LFG(E.t2))};static#e=this.\u0275prov=o.Yz7({token:h,factory:h.\u0275fac,providedIn:"root"})}return h})()},9327:(D,v,i)=>{i.r(v),i.d(v,{BienvenidoModule:()=>y});var f=i(6814),l=i(7045),m=i(5861),o=i(5879),g=i(7411),A=i(4067),U=i(8672);let E=(()=>{class t{constructor(e,n){this.document=e,this.platformId=n,this.documentIsAccessible=(0,f.NF)(this.platformId)}static getCookieRegExp(e){const n=e.replace(/([\[\]{}()|=;+?,.*^$])/gi,"\\$1");return new RegExp("(?:^"+n+"|;\\s*"+n+")=(.*?)(?:;|$)","g")}static safeDecodeURIComponent(e){try{return decodeURIComponent(e)}catch{return e}}check(e){return!!this.documentIsAccessible&&(e=encodeURIComponent(e),t.getCookieRegExp(e).test(this.document.cookie))}get(e){if(this.documentIsAccessible&&this.check(e)){e=encodeURIComponent(e);const s=t.getCookieRegExp(e).exec(this.document.cookie);return s[1]?t.safeDecodeURIComponent(s[1]):""}return""}getAll(){if(!this.documentIsAccessible)return{};const e={},n=this.document;return n.cookie&&""!==n.cookie&&n.cookie.split(";").forEach(s=>{const[c,r]=s.split("=");e[t.safeDecodeURIComponent(c.replace(/^ /,""))]=t.safeDecodeURIComponent(r)}),e}set(e,n,s,c,r,d,x,P){if(!this.documentIsAccessible)return;if("number"==typeof s||s instanceof Date||c||r||d||x)return void this.set(e,n,{expires:s,path:c,domain:r,secure:d,sameSite:x||"Lax",partitioned:P});let u=encodeURIComponent(e)+"="+encodeURIComponent(n)+";";const a=s||{};a.expires&&(u+="number"==typeof a.expires?"expires="+new Date((new Date).getTime()+1e3*a.expires*60*60*24).toUTCString()+";":"expires="+a.expires.toUTCString()+";"),a.path&&(u+="path="+a.path+";"),a.domain&&(u+="domain="+a.domain+";"),!1===a.secure&&"None"===a.sameSite&&(a.secure=!0,console.warn(`[ngx-cookie-service] Cookie ${e} was forced with secure flag because sameSite=None.More details : https://github.com/stevermeister/ngx-cookie-service/issues/86#issuecomment-597720130`)),a.secure&&(u+="secure;"),a.sameSite||(a.sameSite="Lax"),u+="sameSite="+a.sameSite+";",a.partitioned&&(u+="Partitioned;"),this.document.cookie=u}delete(e,n,s,c,r="Lax"){this.documentIsAccessible&&this.set(e,"",{expires:new Date("Thu, 01 Jan 1970 00:00:01 GMT"),path:n,domain:s,secure:c,sameSite:r})}deleteAll(e,n,s,c="Lax"){if(!this.documentIsAccessible)return;const r=this.getAll();for(const d in r)r.hasOwnProperty(d)&&this.delete(d,e,n,s,c)}static#t=this.\u0275fac=function(n){return new(n||t)(o.LFG(f.K0),o.LFG(o.Lbi))};static#e=this.\u0275prov=o.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),I=(()=>{class t{constructor(){this.$emisor=new o.vpe,this.modoNocturno=!1}emitirEvento(){this.$emisor.emit()}cambiarModo(){this.modoNocturno=!this.modoNocturno}static#t=this.\u0275fac=function(n){return new(n||t)};static#e=this.\u0275prov=o.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();const p=[{path:"",component:(()=>{class t{constructor(e,n,s,c,r,d){this.autenticacion=e,this.firestore=n,this.spinner=s,this.cookieService=c,this.modo=r,this.router=d,this.fotoUsuario=null,this.emailUsuario=null,this.tipoSeleccionado="Administrador"}ngOnInit(){var e=this;return(0,m.Z)(function*(){null==e.firestore.datosUsuarioActual&&(e.spinner.show(),yield e.firestore.obtenerInfoUsuario(e.autenticacion.usuarioActual.uid),e.spinner.hide()),e.tipoSeleccionado=e.firestore.datosUsuarioActual.tipoUsuario})()}cambiarModo(){this.modo.cambiarModo(),this.modo.emitirEvento(),this.cookieService.set("modo-nocturno",this.modo.modoNocturno?"true":"false")}cerrarSesion(){var e=this;this.spinner.show(),setTimeout((0,m.Z)(function*(){yield e.autenticacion.cerrarSesion(),e.spinner.hide(),e.navigate("home")}),500)}navigate(e){this.router.navigateByUrl(e)}static#t=this.\u0275fac=function(n){return new(n||t)(o.Y36(g.T),o.Y36(A.C),o.Y36(U.t2),o.Y36(E),o.Y36(I),o.Y36(l.F0))};static#e=this.\u0275cmp=o.Xpm({type:t,selectors:[["app-navbar"]],decls:9,vars:3,consts:[["id","navbar"],[1,"navbar","navbar-light","bg-primary","fixed-top"],[1,"navbar-brand","text-light"],["width","40","height","40","alt","",1,"d-inline-block","align-top",2,"border-radius","100%",3,"src"],["type","image","src","https://cdn-icons-png.flaticon.com/512/25/25694.png",1,"btnNavbar",3,"click"],["type","image","src","https://static.thenounproject.com/png/29386-200.png",1,"btnNavbar",3,"click"]],template:function(n,s){1&n&&(o.TgZ(0,"div",0)(1,"nav",1)(2,"a",2),o._UZ(3,"img",3),o._uU(4),o.qZA(),o.TgZ(5,"div")(6,"input",4),o.NdJ("click",function(){return s.navigate("bienvenido")}),o.qZA(),o.TgZ(7,"input",5),o.NdJ("click",function(){return s.cerrarSesion()}),o.qZA()()()(),o._UZ(8,"router-outlet")),2&n&&(o.xp6(3),o.s9C("src",s.firestore.datosUsuarioActual.imagenUno,o.LSH),o.xp6(1),o.AsE(" ",s.autenticacion.usuarioActual.email," (",s.tipoSeleccionado,") "))},dependencies:[l.lC],styles:[".btnNavbar[_ngcontent-%COMP%]{width:40px;height:40px;margin:4px;padding:-2px;filter:invert(100%)}.btnNavbar[_ngcontent-%COMP%]:hover{border:solid;border-color:#ffffffbd;cursor:pointer}#navbar[_ngcontent-%COMP%]{margin:78px}.navbar-brand[_ngcontent-%COMP%]{margin:8px;padding:3px}"]})}return t})(),children:[{path:"",loadChildren:()=>i.e(76).then(i.bind(i,5076)).then(t=>t.InicioModule)},{path:"turnos",loadChildren:()=>i.e(64).then(i.bind(i,8064)).then(t=>t.TurnosModule)},{path:"mi-perfil",loadChildren:()=>Promise.all([i.e(774),i.e(48)]).then(i.bind(i,2048)).then(t=>t.MiPerfilModule)},{path:"usuarios",loadChildren:()=>Promise.all([i.e(774),i.e(868)]).then(i.bind(i,868)).then(t=>t.UsuariosModule),canActivate:[i(7737).V]},{path:"pacientes",loadChildren:()=>i.e(635).then(i.bind(i,6635)).then(t=>t.PacientesModule),canActivate:[(()=>{class t{constructor(e,n,s,c){var r=this;this.firestore=e,this.autenticacion=n,this.router=s,this.spinner=c,this.canActivate=(0,m.Z)(function*(){return r.spinner.show(),yield r.firestore.obtenerInfoUsuario(r.autenticacion.usuarioActual?.uid),r.spinner.hide(),"Especialista"==r.firestore.datosUsuarioActual.tipoUsuario||(r.router.navigateByUrl("bienvenido"),!1)})}static#t=this.\u0275fac=function(n){return new(n||t)(o.LFG(A.C),o.LFG(g.T),o.LFG(l.F0),o.LFG(U.t2))};static#e=this.\u0275prov=o.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})()]}]}];let M=(()=>{class t{static#t=this.\u0275fac=function(n){return new(n||t)};static#e=this.\u0275mod=o.oAB({type:t});static#o=this.\u0275inj=o.cJS({imports:[l.Bz.forChild(p),l.Bz]})}return t})(),y=(()=>{class t{static#t=this.\u0275fac=function(n){return new(n||t)};static#e=this.\u0275mod=o.oAB({type:t});static#o=this.\u0275inj=o.cJS({imports:[f.ez,M]})}return t})()}}]);