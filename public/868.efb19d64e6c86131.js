"use strict";(self.webpackChunktp_final_clinica=self.webpackChunktp_final_clinica||[]).push([[868],{868:(oe,_,l)=>{l.r(_),l.d(_,{UsuariosModule:()=>te});var c=l(6814),d=l(7045),e=l(5879),m=l(8672),u=l(5861),x=l(4036),Z=l(4067);function b(o,n){if(1&o){const t=e.EpF();e.TgZ(0,"tr",6),e.NdJ("click",function(){const a=e.CHM(t).$implicit,p=e.oxw(2);return e.KtG(p.elegirUsuario(a))}),e.TgZ(1,"td"),e._uU(2),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.qZA(),e.TgZ(5,"td"),e._uU(6),e.qZA(),e.TgZ(7,"td"),e._uU(8),e.qZA(),e.TgZ(9,"td"),e._uU(10),e.qZA(),e.TgZ(11,"td"),e._UZ(12,"img",7),e.qZA()()}if(2&o){const t=n.$implicit;e.xp6(2),e.Oqu(t.apellido),e.xp6(2),e.Oqu(t.nombre),e.xp6(2),e.Oqu(t.dni),e.xp6(2),e.Oqu(t.edad),e.xp6(2),e.Oqu(t.email),e.xp6(2),e.s9C("src",t.imagenUno,e.LSH)}}function U(o,n){if(1&o&&(e.TgZ(0,"table",4)(1,"tr")(2,"th"),e._uU(3,"Apellido"),e.qZA(),e.TgZ(4,"th"),e._uU(5,"Nombre"),e.qZA(),e.TgZ(6,"th"),e._uU(7,"DNI"),e.qZA(),e.TgZ(8,"th"),e._uU(9,"Edad"),e.qZA(),e.TgZ(10,"th"),e._uU(11,"Email"),e.qZA(),e.TgZ(12,"th"),e._uU(13,"Foto"),e.qZA()(),e.YNc(14,b,13,6,"tr",5),e.qZA()),2&o){const t=e.oxw();e.xp6(14),e.Q6J("ngForOf",t.listaAdministradores)}}function T(o,n){if(1&o){const t=e.EpF();e.TgZ(0,"tr",6),e.NdJ("click",function(){const a=e.CHM(t).$implicit,p=e.oxw(2);return e.KtG(p.elegirUsuario(a))}),e.TgZ(1,"td"),e._uU(2),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.qZA(),e.TgZ(5,"td"),e._uU(6),e.qZA(),e.TgZ(7,"td"),e._uU(8),e.qZA(),e.TgZ(9,"td"),e._uU(10),e.qZA(),e.TgZ(11,"td"),e._uU(12),e.qZA(),e.TgZ(13,"td"),e._UZ(14,"img",7),e.qZA(),e.TgZ(15,"td"),e._UZ(16,"img",7),e.qZA()()}if(2&o){const t=n.$implicit;e.xp6(2),e.Oqu(t.apellido),e.xp6(2),e.Oqu(t.nombre),e.xp6(2),e.Oqu(t.dni),e.xp6(2),e.Oqu(t.edad),e.xp6(2),e.Oqu(t.email),e.xp6(2),e.Oqu(t.obraSocial),e.xp6(2),e.s9C("src",t.imagenUno,e.LSH),e.xp6(2),e.s9C("src",t.imagenDos,e.LSH)}}function C(o,n){if(1&o&&(e.TgZ(0,"table",4)(1,"tr")(2,"th"),e._uU(3,"Apellido"),e.qZA(),e.TgZ(4,"th"),e._uU(5,"Nombre"),e.qZA(),e.TgZ(6,"th"),e._uU(7,"DNI"),e.qZA(),e.TgZ(8,"th"),e._uU(9,"Edad"),e.qZA(),e.TgZ(10,"th"),e._uU(11,"Email"),e.qZA(),e.TgZ(12,"th"),e._uU(13,"Obra Social"),e.qZA(),e.TgZ(14,"th"),e._uU(15,"Foto 1"),e.qZA(),e.TgZ(16,"th"),e._uU(17,"Foto 2"),e.qZA()(),e.YNc(18,T,17,8,"tr",5),e.qZA()),2&o){const t=e.oxw();e.xp6(18),e.Q6J("ngForOf",t.listaPacientes)}}function v(o,n){1&o&&(e.TgZ(0,"td"),e._uU(1,"Si"),e.qZA())}function A(o,n){1&o&&(e.TgZ(0,"td"),e._uU(1,"No"),e.qZA())}function q(o,n){if(1&o){const t=e.EpF();e.TgZ(0,"td")(1,"button",11),e.NdJ("click",function(){e.CHM(t);const r=e.oxw().$implicit,a=e.oxw(2);return e.KtG(a.activarDesactivarEspecialista(r))}),e._uU(2,"Deshabilitar"),e.qZA()()}}function E(o,n){if(1&o){const t=e.EpF();e.TgZ(0,"td")(1,"button",12),e.NdJ("click",function(){e.CHM(t);const r=e.oxw().$implicit,a=e.oxw(2);return e.KtG(a.activarDesactivarEspecialista(r))}),e._uU(2,"Habilitar"),e.qZA()()}}function M(o,n){if(1&o){const t=e.EpF();e.TgZ(0,"tr",6),e.NdJ("click",function(){const a=e.CHM(t).$implicit,p=e.oxw(2);return e.KtG(p.elegirUsuario(a))}),e.TgZ(1,"td"),e._uU(2),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.qZA(),e.TgZ(5,"td"),e._uU(6),e.qZA(),e.TgZ(7,"td"),e._uU(8),e.qZA(),e.TgZ(9,"td"),e._uU(10),e.qZA(),e.TgZ(11,"td"),e._uU(12),e.qZA(),e.YNc(13,v,2,0,"td",8),e.YNc(14,A,2,0,"ng-template",null,9,e.W1O),e.TgZ(16,"td"),e._UZ(17,"img",7),e.qZA(),e.YNc(18,q,3,0,"td",8),e.YNc(19,E,3,0,"ng-template",null,10,e.W1O),e.qZA()}if(2&o){const t=n.$implicit,i=e.MAs(15),r=e.MAs(20),a=e.oxw(2);e.xp6(2),e.Oqu(t.apellido),e.xp6(2),e.Oqu(t.nombre),e.xp6(2),e.Oqu(t.dni),e.xp6(2),e.Oqu(t.edad),e.xp6(2),e.Oqu(t.email),e.xp6(2),e.Oqu(a.obtenerEspecialidad(t.especialidad)),e.xp6(1),e.Q6J("ngIf",t.estaActivo)("ngIfElse",i),e.xp6(4),e.s9C("src",t.imagenUno,e.LSH),e.xp6(1),e.Q6J("ngIf",t.estaActivo)("ngIfElse",r)}}function O(o,n){if(1&o&&(e.TgZ(0,"table")(1,"tr")(2,"th"),e._uU(3,"Apellido"),e.qZA(),e.TgZ(4,"th"),e._uU(5,"Nombre"),e.qZA(),e.TgZ(6,"th"),e._uU(7,"DNI"),e.qZA(),e.TgZ(8,"th"),e._uU(9,"Edad"),e.qZA(),e.TgZ(10,"th"),e._uU(11,"Email"),e.qZA(),e.TgZ(12,"th"),e._uU(13,"Especialidad"),e.qZA(),e.TgZ(14,"th"),e._uU(15,"Est\xe1 habilitado"),e.qZA(),e.TgZ(16,"th"),e._uU(17,"Foto"),e.qZA(),e.TgZ(18,"th"),e._uU(19,"\xbfHabilitar/Deshabilitar?"),e.qZA()(),e.YNc(20,M,21,11,"tr",5),e.qZA()),2&o){const t=e.oxw();e.xp6(20),e.Q6J("ngForOf",t.listaEspecialistas)}}let I=(()=>{class o{constructor(t,i){this.firestore=t,this.spinner=i,this.listaUsuarios=[],this.listaAdministradores=[],this.listaPacientes=[],this.listaEspecialistas=[],this.nombre="",this.dni="",this.tipoUsuario="Pacientes",this.eventoRepartidor=new e.vpe}ngOnInit(){var t=this;return(0,u.Z)(function*(){t.spinner.show();const i=t.firestore.obtenerUsuarios();t.listaUsuarios=yield(0,x.z)(i),t.obtenerListas(),setTimeout(()=>{t.spinner.hide()},100)})()}obtenerListas(){this.listaAdministradores=this.listaUsuarios.filter(t=>"Administrador"==t.tipoUsuario),this.listaPacientes=this.listaUsuarios.filter(t=>"Paciente"==t.tipoUsuario),this.listaEspecialistas=this.listaUsuarios.filter(t=>"Especialista"==t.tipoUsuario)}elegirUsuario(t){this.eventoRepartidor.emit(t)}activarDesactivarEspecialista(t){var i=this;return(0,u.Z)(function*(){i.spinner.show(),yield i.firestore.actualizarEstadoEspecialista(t.uid,!t.estaActivo),setTimeout(()=>{t.estaActivo=!t.estaActivo,i.spinner.hide()},300)})()}cambiarTipoUsuario(t){t!=this.tipoUsuario&&(this.spinner.show(),setTimeout(()=>{this.tipoUsuario=t,this.spinner.hide()},900))}obtenerEspecialidad(t){let i="";for(let r=0;r<t.length;r++)i+=t[r].especialidad,r!=t.length-1&&(i+=",");return i}static#e=this.\u0275fac=function(i){return new(i||o)(e.Y36(Z.C),e.Y36(m.t2))};static#t=this.\u0275cmp=e.Xpm({type:o,selectors:[["app-listar-usuarios"]],outputs:{eventoRepartidor:"eventoRepartidor"},decls:14,vars:4,consts:[[2,"text-align","center"],[1,"boton","grande",3,"click"],["class","especial",4,"ngIf"],[4,"ngIf"],[1,"especial"],["class","usuario",3,"click",4,"ngFor","ngForOf"],[1,"usuario",3,"click"],["width","64","height","64",3,"src"],[4,"ngIf","ngIfElse"],["elseBlock",""],["elseBlock2",""],[1,"btn","btn-danger",3,"click"],[1,"btn","btn-success",3,"click"]],template:function(i,r){1&i&&(e.TgZ(0,"body")(1,"div",0)(2,"button",1),e.NdJ("click",function(){return r.cambiarTipoUsuario("Pacientes")}),e._uU(3,"Pacientes"),e.qZA(),e.TgZ(4,"button",1),e.NdJ("click",function(){return r.cambiarTipoUsuario("Especialistas")}),e._uU(5,"Especialistas"),e.qZA(),e.TgZ(6,"button",1),e.NdJ("click",function(){return r.cambiarTipoUsuario("Administradores")}),e._uU(7,"Administradores"),e.qZA(),e._UZ(8,"br"),e.qZA(),e.TgZ(9,"h2",0),e._uU(10),e.qZA(),e.YNc(11,U,15,1,"table",2),e.YNc(12,C,19,1,"table",2),e.YNc(13,O,21,1,"table",3),e.qZA()),2&i&&(e.xp6(10),e.hij("Mostrando los ",r.tipoUsuario,""),e.xp6(1),e.Q6J("ngIf","Administradores"==r.tipoUsuario),e.xp6(1),e.Q6J("ngIf","Pacientes"==r.tipoUsuario),e.xp6(1),e.Q6J("ngIf","Especialistas"==r.tipoUsuario))},dependencies:[c.sg,c.O5],styles:["table[_ngcontent-%COMP%]{border-collapse:collapse;min-width:100%;max-width:100%;margin:25px 0;font-size:.9em;border-radius:5px 5px 0 0;overflow:hidden;box-shadow:0 0 20px #00000026}.especial[_ngcontent-%COMP%]{margin:30px auto}tr[_ngcontent-%COMP%]:first-child{background-color:#1c87c9;color:#fff}th[_ngcontent-%COMP%], td[_ngcontent-%COMP%]{padding:10px;border:1px solid #666}td[_ngcontent-%COMP%]{background-color:#fff}.usuarios[_ngcontent-%COMP%]{height:400px;overflow-y:scroll;flex-wrap:wrap;background-color:#c9bbbb}#seleccion[_ngcontent-%COMP%]{background-color:#c9bbbb;font-weight:700}button[_ngcontent-%COMP%]:hover{border:5px solid;border-color:#c300ff;cursor:pointer}p[_ngcontent-%COMP%]{margin:12px}body[_ngcontent-%COMP%]{background:#EFD5C3}#estructura[_ngcontent-%COMP%]{flex:auto;border-radius:40px;overflow:hidden;margin:10px;transition:.5s}.boton[_ngcontent-%COMP%]{margin:10px;border-radius:20px;border:1px solid #ffffff;background-color:#ca1010;color:#fff;font-size:12px;font-weight:700;padding:8px 30px;letter-spacing:1px;text-transform:uppercase;transition:transform 80ms ease-in;opacity:.8}.grande[_ngcontent-%COMP%]{padding:15px 45px;font-size:15px}.boton[_ngcontent-%COMP%]:active{transform:scale(.95)}.boton[_ngcontent-%COMP%]:focus{outline:none}.boton.ghost[_ngcontent-%COMP%]{background-color:transparent;border-color:#fff}.boton[_ngcontent-%COMP%]:hover{opacity:1}"]})}return o})();var s=l(95),P=l(3519),f=l.n(P),k=l(7411),h=l(4774);function N(o,n){if(1&o&&(e.TgZ(0,"span",39),e._uU(1),e.qZA()),2&o){const t=e.oxw(2);e.xp6(1),e.hij(" ",t.obtenerError("nombre")," ")}}function w(o,n){if(1&o&&(e.TgZ(0,"span",39),e._uU(1),e.qZA()),2&o){const t=e.oxw(2);e.xp6(1),e.hij(" ",t.obtenerError("apellido")," ")}}function J(o,n){if(1&o&&(e.TgZ(0,"span",39),e._uU(1),e.qZA()),2&o){const t=e.oxw(2);e.xp6(1),e.hij(" ",t.obtenerError("edad")," ")}}function y(o,n){if(1&o&&(e.TgZ(0,"span",39),e._uU(1),e.qZA()),2&o){const t=e.oxw(2);e.xp6(1),e.hij(" ",t.obtenerError("dni")," ")}}function R(o,n){if(1&o&&(e.TgZ(0,"span",39),e._uU(1),e.qZA()),2&o){const t=e.oxw(2);e.xp6(1),e.hij(" ",t.obtenerError("email")," ")}}function S(o,n){if(1&o&&(e.TgZ(0,"span",39),e._uU(1),e.qZA()),2&o){const t=e.oxw(2);e.xp6(1),e.hij(" ",t.obtenerError("clave")," ")}}function F(o,n){1&o&&(e.TgZ(0,"span",39),e._uU(1," Seleccione una imagen por favor "),e.qZA())}function Y(o,n){1&o&&(e.TgZ(0,"span",39),e._uU(1," Seleccione una imagen por favor "),e.qZA())}const g=function(){return{standalone:!0}};function Q(o,n){if(1&o){const t=e.EpF();e.TgZ(0,"div",33)(1,"label",40),e.NdJ("ngModelChange",function(r){e.CHM(t);const a=e.oxw(2);return e.KtG(a.imagenPerfilDos=r)}),e._uU(2,"Imagen de perfil 2: "),e.qZA(),e.TgZ(3,"input",35),e.NdJ("change",function(r){e.CHM(t);const a=e.oxw(2);return e.KtG(a.guardarImagenDos(r))}),e.qZA(),e.YNc(4,Y,2,0,"span",21),e.qZA()}if(2&o){const t=e.oxw(2);e.xp6(1),e.Q6J("ngModel",t.imagenPerfilDos)("ngModelOptions",e.DdM(3,g)),e.xp6(3),e.Q6J("ngIf",t.validarImagenDos())}}function D(o,n){if(1&o&&(e.TgZ(0,"span",39),e._uU(1),e.qZA()),2&o){const t=e.oxw(3);e.xp6(1),e.hij(" ",t.obtenerError("obraSocial")," ")}}function L(o,n){if(1&o&&(e.TgZ(0,"div",28)(1,"label",41),e._uU(2,"Obra social"),e.qZA(),e._UZ(3,"input",42),e.YNc(4,D,2,1,"span",21),e.qZA()),2&o){const t=e.oxw(2);e.xp6(4),e.Q6J("ngIf",t.esValidoElCampo("obraSocial"))}}function j(o,n){if(1&o&&(e.TgZ(0,"span",39),e._uU(1),e.qZA()),2&o){const t=e.oxw(3);e.xp6(1),e.hij(" ",t.obtenerError("especialidad")," ")}}function H(o,n){if(1&o){const t=e.EpF();e.TgZ(0,"div",28)(1,"label",43),e._uU(2,"Especialidad"),e.qZA(),e._UZ(3,"br")(4,"p-multiSelect",44)(5,"br"),e.TgZ(6,"label",45),e._uU(7,"No encuentras tu especialidad. Agregala a la lista: "),e.qZA(),e.TgZ(8,"input",46),e.NdJ("ngModelChange",function(r){e.CHM(t);const a=e.oxw(2);return e.KtG(a.especialidadAgregada=r)}),e.qZA(),e.TgZ(9,"input",47),e.NdJ("click",function(){e.CHM(t);const r=e.oxw(2);return e.KtG(r.agregarEspecialidad())}),e.qZA(),e.YNc(10,j,2,1,"span",21),e.TgZ(11,"span"),e._uU(12),e.qZA()()}if(2&o){const t=e.oxw(2);e.xp6(4),e.Q6J("options",t.listaEspecialidades),e.xp6(4),e.Q6J("ngModel",t.especialidadAgregada)("ngModelOptions",e.DdM(5,g)),e.xp6(2),e.Q6J("ngIf",t.esValidoElCampo("especialidad")),e.xp6(2),e.hij(" ",t.mensajeConfirmacion," ")}}function G(o,n){if(1&o){const t=e.EpF();e.TgZ(0,"form",14,15),e.NdJ("ngSubmit",function(){e.CHM(t);const r=e.oxw();return e.KtG(r.registrarse())}),e.TgZ(2,"h4",16),e._uU(3),e.qZA(),e.TgZ(4,"div",17)(5,"div",18)(6,"label",19),e._uU(7,"Nombre"),e.qZA(),e._UZ(8,"input",20),e.YNc(9,N,2,1,"span",21),e.qZA(),e.TgZ(10,"div",18)(11,"label",22),e._uU(12,"Apellido"),e.qZA(),e._UZ(13,"input",23),e.YNc(14,w,2,1,"span",21),e.qZA(),e._UZ(15,"br")(16,"br"),e.TgZ(17,"div",18)(18,"label",24),e._uU(19,"Edad"),e.qZA(),e._UZ(20,"input",25),e.YNc(21,J,2,1,"span",21),e.qZA(),e.TgZ(22,"div",18)(23,"label",26),e._uU(24,"DNI"),e.qZA(),e._UZ(25,"input",27),e.YNc(26,y,2,1,"span",21),e.qZA(),e.TgZ(27,"div",28)(28,"label",29),e._uU(29,"Email"),e.qZA(),e._UZ(30,"input",30),e.YNc(31,R,2,1,"span",21),e.qZA(),e.TgZ(32,"div",28)(33,"label",31),e._uU(34,"Contrase\xf1a"),e.TgZ(35,"span"),e._uU(36," (Minimo 6 caracteres)"),e.qZA()(),e._UZ(37,"input",32),e.YNc(38,S,2,1,"span",21),e.qZA(),e.TgZ(39,"div",33)(40,"label",34),e.NdJ("ngModelChange",function(r){e.CHM(t);const a=e.oxw();return e.KtG(a.imagenPerfilUno=r)}),e._uU(41,"Imagen de perfil: "),e.qZA(),e.TgZ(42,"input",35),e.NdJ("change",function(r){e.CHM(t);const a=e.oxw();return e.KtG(a.guardarImagenUno(r))}),e.qZA(),e.YNc(43,F,2,0,"span",21),e.qZA(),e.YNc(44,Q,5,4,"div",36),e.YNc(45,L,5,1,"div",37),e.YNc(46,H,13,6,"div",37),e.qZA(),e.TgZ(47,"button",38),e._uU(48,"Registrarse"),e.qZA()()}if(2&o){const t=e.oxw();e.Q6J("formGroup",t.formulario),e.xp6(3),e.hij("Registro de usuario de tipo : ",t.tipoUsuario,""),e.xp6(6),e.Q6J("ngIf",t.esValidoElCampo("nombre")),e.xp6(5),e.Q6J("ngIf",t.esValidoElCampo("apellido")),e.xp6(7),e.Q6J("ngIf",t.esValidoElCampo("edad")),e.xp6(5),e.Q6J("ngIf",t.esValidoElCampo("dni")),e.xp6(5),e.Q6J("ngIf",t.esValidoElCampo("email")),e.xp6(7),e.Q6J("ngIf",t.esValidoElCampo("clave")),e.xp6(2),e.Q6J("ngModel",t.imagenPerfilUno)("ngModelOptions",e.DdM(14,g)),e.xp6(3),e.Q6J("ngIf",t.validarImagenUno()),e.xp6(1),e.Q6J("ngIf","Paciente"==t.tipoUsuario),e.xp6(1),e.Q6J("ngIf","Paciente"==t.tipoUsuario),e.xp6(1),e.Q6J("ngIf","Especialista"==t.tipoUsuario)}}let V=(()=>{class o{constructor(t,i,r,a){this.spinner=t,this.autenticador=i,this.forms=r,this.router=a,this.formulario=this.forms.group({nombre:["",[s.kI.required]],apellido:["",[s.kI.required]],edad:["",[s.kI.required,s.kI.min(1),s.kI.max(100)]],dni:["",[s.kI.required,s.kI.min(1e6),s.kI.max(99999999)]],especialidad:["",[s.kI.required]],email:["",[s.kI.email,s.kI.required]],clave:["",[s.kI.required,s.kI.minLength(6)]],obraSocial:["",[s.kI.required]]}),this.tipoUsuario="",this.imagenPerfilUno=null,this.imagenPerfilDos=null,this.mensajeError="",this.flagRegistro=!1,this.mensajeConfirmacion="",this.especialidadAgregada=null,this.listaEspecialidades=[{especialidad:"Psicologia"},{especialidad:"Cardiolog\xeda"},{especialidad:"Neurolog\xeda"}],this.flagCaptcha=!0,this.token=void 0}resolverCaptcha(t){null!=t&&t.length>0&&(this.flagCaptcha=!1)}send(t){if(t.invalid)for(const i of Object.keys(t.controls))t.controls[i].markAsTouched();else console.debug(`Token [${this.token}] generated`)}ngOnInit(){this.formulario.reset()}esValidoElCampo(t){return this.formulario.controls[t].errors&&this.formulario.controls[t].touched}validarImagenUno(){return null==this.imagenPerfilUno&&this.flagRegistro}validarImagenDos(){return null==this.imagenPerfilDos&&this.flagRegistro}verificarEspecialidad(){return"Otro"==this.formulario.value.especialidad}obtenerError(t){if(!this.formulario.controls[t]&&!this.formulario.controls[t].errors)return null;const i=this.formulario.controls[t].errors;for(const r of Object.keys(i))switch(r){case"required":return"Este campo es requerido";case"minlength":return`Minimo ${i.minlength.requiredLength} caracteres.`;case"maxlength":return`Maximo ${i.maxlength.requiredLength} caracteres.`;case"min":return`Como minimo debe ser ${i.min.min}.`;case"max":return`Como maximo debe ser ${i.max.max}.`;case"email":return"El formato del mail es incorrecto"}return null}lanzarSpinner(t){var i=this;return(0,u.Z)(function*(){""!=i.tipoUsuario&&(i.spinner.show(),setTimeout(()=>{i.spinner.hide()},t))})()}guardarImagenUno(t){this.imagenPerfilUno=t.target.files[0],console.log("Se guardo imagen 1")}guardarImagenDos(t){this.imagenPerfilDos=t.target.files[0],console.log("Se guardo imagen 2")}validarFormulario(){if(!(this.esValidoElCampo("nombre")||this.esValidoElCampo("apellido")||this.esValidoElCampo("dni")||this.esValidoElCampo("edad")||this.esValidoElCampo("email")||this.esValidoElCampo("clave")||this.validarImagenUno())){if("Paciente"==this.tipoUsuario&&!this.esValidoElCampo("obraSocial")&&!this.validarImagenDos())return!0;if(!this.esValidoElCampo("especialidad"))return!0}return!1}registrarse(){var t=this;if(this.flagRegistro=!0,this.validarFormulario()){console.log("DATOS BIEN INGRESADOS");const i={tipo:this.tipoUsuario,nombre:this.formulario.value.nombre,apellido:this.formulario.value.apellido,edad:this.formulario.value.edad,dni:this.formulario.value.dni,email:this.formulario.value.email,imagenPerfilUno:this.imagenPerfilUno,imagenPerfilDos:this.imagenPerfilDos,obraSocial:this.formulario.value.obraSocial,especialidad:this.formulario.value.especialidad,estaActiva:!1,hora:new Date};this.spinner.show(),this.autenticador.registro(i,this.formulario.value.clave).then(r=>{setTimeout(()=>{if("string"!=typeof r){let a="Paciente"==i.tipo?"Se ha registrado como paciente exitosamente. Se enviado un correo electronico al email: "+i.email+" por favor verifiquelo para poder iniciar sesi\xf3n":"Se ha registrado como especialista exitosamente. Se enviado un correo electronico al email: "+i.email+" por favor verifiquelo para poder iniciar sesi\xf3n. Recuerde que para poder iniciar sesi\xf3n su cuenta debe ser validada por un administrador, proceso que puede llevar hasta 48 hs habiles en resolverse. Tenga paciencia.";f().fire({icon:"success",title:"Usuario registrado con exito",footer:a,showConfirmButton:!0}).then(()=>{this.spinner.show(),setTimeout((0,u.Z)(function*(){t.spinner.hide(),yield t.autenticador.cerrarSesion(),t.navigate("sesiones/login")}),500)})}else this.mostrarError(r),f().fire({icon:"error",title:"Oops...",text:"Error al crear cuenta",footer:this.mensajeError});this.spinner.hide()},100)})}else console.log("REVISE LOS DATOS INGRESADOS"),this.formulario.markAllAsTouched()}elegirTipo(t){t!=this.tipoUsuario&&(this.spinner.show(),setTimeout(()=>{this.tipoUsuario=t,this.spinner.hide()},1500))}mostrarError(t){switch(t){case"auth/email-already-in-use":this.mensajeError="El correo ya est\xe1 registrado, prueba con otro";break;case"auth/invalid-email":this.mensajeError="El formato de correo es invalido";break;case"dni-duplicado":this.mensajeError="El dni "+this.formulario.value.dni+" ya se encuentra registrado en el sistema por lo tanto no es v\xe1lido para registrarse";break;case"auth/operation-not-allowed":this.mensajeError="Operaci\xf3n no permitida"}}navigate(t){this.router.navigateByUrl(t)}agregarEspecialidad(){null!=this.especialidadAgregada&&(null==this.listaEspecialidades.find(t=>t.especialidad==this.especialidadAgregada)?(this.listaEspecialidades.push({especialidad:this.especialidadAgregada}),this.mensajeConfirmacion="Especialidad "+this.especialidadAgregada+" agregada con \xe9xito",setTimeout(()=>{this.mensajeConfirmacion=""},2e3)):(this.mensajeConfirmacion="La especialidad "+this.especialidadAgregada+" ya existe en la lista",setTimeout(()=>{this.mensajeConfirmacion=""},2e3)))}static#e=this.\u0275fac=function(i){return new(i||o)(e.Y36(m.t2),e.Y36(k.T),e.Y36(s.qu),e.Y36(d.F0))};static#t=this.\u0275cmp=e.Xpm({type:o,selectors:[["app-registrar-todos-usuarios"]],decls:24,vars:1,consts:[[1,"bg-dark"],[1,"container"],[1,"py-5","text-center"],[1,"lead"],[1,"row","g-5"],["id","tipo-usuario",1,"text-center"],["for","tipo-usuario",1,"form-label",2,"font-size","x-large"],["type","image","height","200px","width","250px","src","../../../assets/paciente.png",1,"imagen",2,"margin-right","120px",3,"click"],["type","image","height","200px","width","250px","src","../../../assets/medico.png",1,"imagen",2,"margin-right","120px",3,"click"],["type","image","height","200px","width","250px","src","../../../assets/admin.png",1,"imagen",3,"click"],[1,"mb-4"],["class","needs-validation","novalidate","",3,"formGroup","ngSubmit",4,"ngIf"],[1,"my-5","pt-5","text-muted","text-center","text-small"],[1,"mb-1"],["novalidate","",1,"needs-validation",3,"formGroup","ngSubmit"],["form","ngForm"],[1,"mb-3"],[1,"row","g-3"],[1,"col-sm-6"],["for","nombre",1,"form-label"],["type","text","id","nombre","placeholder","Ingrese nombre","required","","formControlName","nombre",1,"form-control"],["class","form-text text-danger",4,"ngIf"],["for","apellido",1,"form-label"],["type","text","id","apellido","placeholder","Ingrese apellido","required","","formControlName","apellido",1,"form-control"],["for","edad",1,"form-label"],["type","number","id","edad","placeholder","Ingrese edad","required","","formControlName","edad",1,"form-control"],["for","dni",1,"form-label"],["type","number","id","dni","placeholder","Ingrese dni","required","","formControlName","dni",1,"form-control"],[1,"col-9"],["for","email",1,"form-label"],["type","email","id","email","placeholder","Ingrese email (ej: mariano@gmail.com)","required","","formControlName","email",1,"form-control"],["for","clave",1,"form-label"],["type","password","id","clave","placeholder","*********","required","","formControlName","clave",1,"form-control"],[1,"col-6"],["for","archivo","id","foto1","name","imagenPerfilUno",1,"form-label",2,"margin-right","5px",3,"ngModel","ngModelOptions","ngModelChange"],["type","file",1,"archivo",3,"change"],["class","col-6",4,"ngIf"],["class","col-9",4,"ngIf"],["type","submit",1,"w-50","btn","btn-danger","btn-lg",2,"margin-top","10px"],[1,"form-text","text-danger"],["for","archivo","id","foto2","name","imagenPerfilDos",1,"form-label",2,"margin-right","5px",3,"ngModel","ngModelOptions","ngModelChange"],["for","obra-social",1,"form-label"],["type","text","id","obra-social","placeholder","Ingrese obra social","required","","formControlName","obraSocial",1,"form-control"],["for","especialidad",1,"form-label","text-center"],["formControlName","especialidad","name","especialidad","optionLabel","especialidad","placeholder","Elige una especialidad",1,"especialidad",3,"options"],["for","especialidad",1,"form-label"],["type","text","placeholder","Ej: Gen\xe9tica","name","especialidad-agregada",2,"margin-left","5px",3,"ngModel","ngModelOptions","ngModelChange"],["value","Agregar",1,"btn","btn-primary",2,"margin-left","5px",3,"click"]],template:function(i,r){1&i&&(e.TgZ(0,"body",0)(1,"div",1)(2,"main")(3,"div",2)(4,"h2"),e._uU(5,"Registrar usuario (Como Administrador)"),e.qZA(),e.TgZ(6,"p",3),e._uU(7,"Por medio del siguiente formulario se puede registrar un nuevo usuario para la clinica online de Mariano"),e.qZA()(),e.TgZ(8,"div",4)(9,"div")(10,"div",5)(11,"label",6),e._uU(12,"Tipo de Usuario"),e.qZA(),e._UZ(13,"br")(14,"br"),e.TgZ(15,"input",7),e.NdJ("click",function(){return r.elegirTipo("Paciente")}),e.qZA(),e.TgZ(16,"input",8),e.NdJ("click",function(){return r.elegirTipo("Especialista")}),e.qZA(),e.TgZ(17,"input",9),e.NdJ("click",function(){return r.elegirTipo("Administrador")}),e.qZA()(),e._UZ(18,"hr",10),e.YNc(19,G,49,15,"form",11),e.qZA()()(),e.TgZ(20,"footer",12)(21,"p",13),e._uU(22,"\xa9 2024 Clinica Online Fern\xe1ndez Mariano 4A"),e.qZA()()()(),e._UZ(23,"router-outlet")),2&i&&(e.xp6(19),e.Q6J("ngIf",""!=r.tipoUsuario))},dependencies:[c.O5,d.lC,s._Y,s.Fj,s.wV,s.JJ,s.JL,s.Q7,s.On,s.sg,s.u,h.NU],styles:["title[_ngcontent-%COMP%], h2[_ngcontent-%COMP%], h4[_ngcontent-%COMP%], label[_ngcontent-%COMP%], p[_ngcontent-%COMP%], span[_ngcontent-%COMP%]{color:#fff}body[_ngcontent-%COMP%]{height:200vh}[_ngcontent-%COMP%]::placeholder{color:#28283076;font-size:1.2em}.archivo[_ngcontent-%COMP%]{color:#fff}#tipo-usuario[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-size:18px}.mb-4[_ngcontent-%COMP%]{color:#fff}.formulario[_ngcontent-%COMP%]{width:100%}.imagen[_ngcontent-%COMP%]{border:rgb(255,255,255) 3px solid;background-color:#000;opacity:.8}.imagen[_ngcontent-%COMP%]:hover{opacity:1;transform:scale(1.1)}#tipo-usuario[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{height:80px;width:300px;background-color:#bd0e0ecf;color:#fff}.especialidad[_ngcontent-%COMP%]{margin:7px}re-captcha.is-invalid[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{border:1px solid #dc3545!important;border-radius:.2rem}"]})}return o})();function z(o,n){1&o&&(e.TgZ(0,"header",7)(1,"a",8)(2,"span",9),e._uU(3,"Como administrador puedes a\xf1adir o validar usuarios"),e.qZA()()())}function K(o,n){if(1&o){const t=e.EpF();e.TgZ(0,"div",10)(1,"button",11),e.NdJ("click",function(){e.CHM(t);const r=e.oxw();return e.KtG(r.volverAtras())}),e._uU(2,"Volver Atras"),e.qZA()()}}function $(o,n){1&o&&e._UZ(0,"app-listar-usuarios")}function B(o,n){1&o&&e._UZ(0,"app-registrar-todos-usuarios")}function X(o,n){if(1&o){const t=e.EpF();e.TgZ(0,"div",12)(1,"div",13)(2,"div",14)(3,"h2"),e._uU(4,"\xbfNecesitas generar usuarios? Registra los que quieras"),e.qZA(),e.TgZ(5,"p"),e._uU(6,"Haz click en el siguiente boton para registrar usuarios en el sistema, puedes generar usuarios de todo tipo."),e.qZA(),e.TgZ(7,"button",15),e.NdJ("click",function(){e.CHM(t);const r=e.oxw();return e.KtG(r.abrirComponente("registrar"))}),e._uU(8,"Registrar"),e.qZA()()(),e.TgZ(9,"div",13)(10,"div",16)(11,"h2"),e._uU(12,"\xbfNecesitas validar un usuario? o simplemente quieres ver la lista de los mismos"),e.qZA(),e.TgZ(13,"p"),e._uU(14,"Haz click en el siguiente boton para ver la lista de usuarios, puedes habilitar o deshabilitar el acceso a los usuarios especialistas"),e.qZA(),e.TgZ(15,"button",15),e.NdJ("click",function(){e.CHM(t);const r=e.oxw();return e.KtG(r.abrirComponente("listar"))}),e._uU(16,"Ver lista de usuarios"),e.qZA()()()()}}const W=[{path:"",component:(()=>{class o{constructor(t){this.spinner=t,this.escondoInteraccion=!0,this.componente=""}abrirComponente(t){this.componente=t,this.escondoInteraccion=!1}volverAtras(){this.spinner.show(),setTimeout(()=>{this.componente="",this.escondoInteraccion=!0,this.spinner.hide()},1200)}static#e=this.\u0275fac=function(i){return new(i||o)(e.Y36(m.t2))};static#t=this.\u0275cmp=e.Xpm({type:o,selectors:[["app-usuarios"]],decls:12,vars:6,consts:[[1,"container","py-4"],["class","pb-3 mb-4 border-bottom",4,"ngIf"],[1,"p-2","mb-4","rounded-3",2,"background-color","#EFD5C3",3,"hidden"],["style","text-align: center;",4,"ngIf"],[4,"ngIf"],["class","row align-items-md-stretch",4,"ngIf"],[1,"pt-3","mt-4","text-muted","border-top"],[1,"pb-3","mb-4","border-bottom"],["href","/",1,"d-flex","align-items-center","text-dark","text-decoration-none"],[1,"fs-4"],[2,"text-align","center"],[1,"boton","grande",3,"click"],[1,"row","align-items-md-stretch"],[1,"col-md-6"],["id","",1,"h-100","p-5","text-white","rounded-3",2,"background-color","#08843e"],["type","button",1,"btn","btn-outline-light",3,"click"],[1,"h-100","p-5","text-white","bg-primary","rounded-3"]],template:function(i,r){1&i&&(e.TgZ(0,"body")(1,"main")(2,"div",0),e.YNc(3,z,4,0,"header",1),e.TgZ(4,"div",2),e.YNc(5,K,3,0,"div",3),e.YNc(6,$,1,0,"app-listar-usuarios",4),e.YNc(7,B,1,0,"app-registrar-todos-usuarios",4),e.qZA(),e.YNc(8,X,17,0,"div",5),e.TgZ(9,"footer",6),e._uU(10," \xa9 2024 "),e.qZA()()()(),e._UZ(11,"router-outlet")),2&i&&(e.xp6(3),e.Q6J("ngIf",""==r.componente),e.xp6(1),e.Q6J("hidden",r.escondoInteraccion),e.xp6(1),e.Q6J("ngIf",""!=r.componente),e.xp6(1),e.Q6J("ngIf","listar"==r.componente),e.xp6(1),e.Q6J("ngIf","registrar"==r.componente),e.xp6(1),e.Q6J("ngIf",""==r.componente))},dependencies:[c.O5,d.lC,I,V],styles:["body[_ngcontent-%COMP%]{background-color:#242222;min-height:90vh}span[_ngcontent-%COMP%]{color:#fff}#registro[_ngcontent-%COMP%]{background-color:#00f}.boton[_ngcontent-%COMP%]{margin:10px;border-radius:20px;border:1px solid #ffffff;background-color:#1023ca;color:#fff;font-size:12px;font-weight:700;padding:8px 30px;letter-spacing:1px;text-transform:uppercase;transition:transform 80ms ease-in;opacity:.8}.grande[_ngcontent-%COMP%]{padding:15px 45px;font-size:15px}.boton[_ngcontent-%COMP%]:active{transform:scale(.95)}.boton[_ngcontent-%COMP%]:focus{outline:none}.boton.ghost[_ngcontent-%COMP%]{background-color:transparent;border-color:#fff}.boton[_ngcontent-%COMP%]:hover{opacity:1}"]})}return o})()}];let ee=(()=>{class o{static#e=this.\u0275fac=function(i){return new(i||o)};static#t=this.\u0275mod=e.oAB({type:o});static#o=this.\u0275inj=e.cJS({imports:[d.Bz.forChild(W),d.Bz]})}return o})(),te=(()=>{class o{static#e=this.\u0275fac=function(i){return new(i||o)};static#t=this.\u0275mod=e.oAB({type:o});static#o=this.\u0275inj=e.cJS({imports:[c.ez,ee,s.u5,c.ez,s.UX,h.q4]})}return o})()}}]);